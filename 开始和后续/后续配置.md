最后

### CI服务器的docker配置（jenkins:192.168.163.155）

**这里因为我们要在192.168.163.155(CI服务器)上push镜像到192.168.163.156(私仓)，所有需要修改CI服务器上的Docker配置。**

```bash
cat /etc/docker/daemon.json
vim /etc/docker/daemon.json

[root@jenkins ~]# cat /etc/docker/daemon.json
{
  "registry-mirrors": ["https://2tefyfv7.mirror.aliyuncs.com"],
  "insecure-registries": ["192.168.163.156"]
}

#CI机器简单测试一下
docker login 192.168.163.156
```

### CD服务器的docker配置（k8s-master、k8s-node1、k8s-node2） 

```
cat /etc/docker/daemon.json
```

###  安装mvn

```
cd /usr/local/
wget https://archive.apache.org/dist/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz
tar -zxvf apache-maven-3.6.3-bin.tar.gz


#配置环境变量
vim /etc/profile

#放最后
MAVEN_HOME=/usr/local/apache-maven-3.6.3
JAVA_HOME=/usr/lib/jvm/java-17-openjdk-17.0.17.0.10-1.el9.x86_64  ##这里的路径注意使用你安装的jdk的版本号
CLASS_PATH=.:$JAVA_HOME/lib
PATH=$MAVEN_HOME/bin:$JAVA_HOME/bin:$PATH
```

